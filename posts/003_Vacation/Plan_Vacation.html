<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>plan_vacation – My Explorations with LLMs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-7b63c25c14df0a3a64dc3ec8b366e2a1.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">My Explorations with LLMs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block"></header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div id="261b27e8-d7ac-46a3-b6f7-ac38f7ddad30" class="cell" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>title: <span class="st">"Vacation Ideas"</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>description: <span class="st">"Can an LLM plan my dream Vacation in South Africa?"</span> </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>author: <span class="st">"Helen"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>date: <span class="st">"9/12/2025"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>categories:</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">-</span> LLMs</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">-</span> Entertainment </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-cyan-fg">  Cell </span><span class="ansi-green-fg">In[3], line 5</span>
<span class="ansi-red-fg">    categories:</span>
               ^
<span class="ansi-red-fg">SyntaxError</span><span class="ansi-red-fg">:</span> invalid syntax
</pre>
</div>
</div>
</div>
<p>Introduction</p>
<p>I’m studying abroad in Cape Town, South Africa next semester, so I need new ideas of things to do and where is best to explore. So, today I want to see if GPT-40 and Google Gemini 2.5 Flash can plan my dream vacation in South Africa so I know all the spots to hit and where is best to explore. I also want GPT-40 and Google Gemini 2.5 Flash to make it specific to me, so I am making sure to list important factors about me, interests, and hobbies. I am interested in seeing the differences between the two GPTs and how they respond differently.</p>
<p>GPT 40 Prompt:</p>
<p>I am a 20 year old girl studying abroad in Cape Town, South Africa next spring.</p>
<p>I am interested in exploring hiking in South Africa, going to National Parks, exploring local cuisine, and learning more about South African history and apartheid. Make a to-do list of specific restuarants, place, activities, museums, etc I need to try in Cape Town and South Africa as a country. Plan me a week long vacation in South Africa that fits a college-student budget.</p>
<p>GPT-40 Response: Day 1: Arrival in Cape Town Accommodation: Stay in a budget-friendly hostel or guesthouse in areas like Green Point or Observatory. Activity: Take a leisurely walk through the V&amp;A Waterfront for people-watching and window shopping. Explore the nearby Zeitz MOCAA for contemporary African art. Dinner: Enjoy a budget-friendly meal at Mama Africa for traditional African cuisine and live music. Day 2: Cape Town Essentials Morning: Hike up Lion’s Head for sunrise; it’s less crowded and free. Afternoon: Visit the District Six Museum (student discounts available) to learn about apartheid history. Lunch: Grab something to eat at a local café like Truth Coffee, known for its affordable and excellent coffee. Evening: Explore the Bo-Kaap neighborhood. Have dinner at a local eatery serving Cape Malay cuisine, like Biesmiellah. Day 3: Nature and Wine Morning: Catch a local train to Stellenbosch (budget-friendly travel option) and rent a bike to explore the vineyards. Afternoon: Participate in a budget wine tasting at one of the smaller estates or pack a picnic and enjoy the scenic views. Evening: Return to Cape Town. Have a low-cost dinner by grabbing some local street food or visiting a food market like the Neighbourgoods Market. Day 4: Cape Peninsula Full-Day Tour: Rent a car (or join a budget-friendly tour group) and explore the Cape Point and Cape of Good Hope. Stop at Simon’s Town for the Boulders Beach penguin colony. Lunch: Pack a picnic or eat at a local café in Simon’s Town. Evening: Drive back via Kalk Bay for fish and chips at Kalky’s. Day 5: Table Mountain and Gardens Morning: Take the cable car (consider student discounts) or hike up Table Mountain. Afternoon: Spend time at Kirstenbosch National Botanical Garden. Entry is affordable and the garden is perfect for a relaxing afternoon. Evening: Have dinner at a budget-friendly local restaurant like MZANSI in the Langa township for a unique experience. Day 6: Safari and Wildlife Option 1: Day trip to Aquila Private Game Reserve for an affordable safari. They offer budget packages. Option 2: If you’d rather stay local, visit the World of Birds Wildlife Sanctuary in Hout Bay. Lunch: At the reserve (often included) or a local café. Dinner: Return to Cape Town for dinner at a student-friendly eatery or join a braai hosted by locals at a backpacker hostel. Day 7: History and Culture Morning: Ferry to Robben Island (book in advance; student discounts may apply). Afternoon: Return and visit the Castle of Good Hope. Evening: Celebrate your last night with a casual dinner at The Pot Luck Club for a splurge or another local spot. Additional Tips: Accommodation: Use platforms like Hostelworld or Airbnb for budget stays. Transportation: Consider using MyCiTi buses or rent a bike for cheap travel around the city. Activities: Check for student discounts and plan your visits accordingly. Meals: Opt for local markets, food stalls, and casual eateries to save money. With a careful budget and a focused itinerary, you can enjoy a memorable and enriching week in South Africa!</p>
<p>Analysis: I think, overall, GPT-40 made a great itinerary and tailored the schedule well to a 20 year old college student. I will say, some of the activities are quite vague. FOr example, there are no specific hotel reccomendations. I do appreciate the specificity of the transportation such as Citibike/cable cars, which have studets discounts. I do think it suffers from the “over generalization” pitfall GPTs fall into frequently. It does lack specificity with activities, pricing, and details of events, so I am curious to see</p>
<p>Google Gemini Prompt:</p>
<p>I am a 20 year old girl studying abroad in Cape Town, South Africa next spring.</p>
<p>I am interested in exploring hiking in South Africa, going to National Parks, exploring local cuisine, and learning more about South African history and apartheid. Make a to-do list of specific restuarants, place, activities, museums, etc I need to try in Cape Town and South Africa as a country. Plan me a week long vacation in South Africa that fits a college-student budget.</p>
<p>Response: Okay, this sounds like an incredible adventure! Building on your interests and focusing on the Western Cape to keep travel costs down, here’s a 7-day college-student-budget-friendly itinerary for your spring study abroad experience in South Africa. This plan prioritizes hostel accommodation, self-catering/market food, public transport/ride-sharing, and free/low-cost activities. 7-Day College-Student Budget Itinerary: Cape Town &amp; Coastal Gems General Budget Tips for the Week: Accommodation: Stay in hostels! Look for options like The Backpack, Once in Cape Town, Mojo Hotel, or Atlantic Point Backpackers. Dorm beds are cheapest, and many hostels have kitchens for self-catering. Food: Self-Cater: Buy groceries from supermarkets like Pick n Pay or Food Lover’s Market and cook at your hostel. Food Markets: Hit the Neighbourgoods Market (Saturday) or V&amp;A Food Market for diverse, often affordable meals. Local Takeaways: Try a Gatsby (massive sandwich, great for sharing) or vetkoek (fried dough) for cheap, filling meals. Water: Carry a reusable water bottle and refill it. Transport: MyCiTi Bus: Get a MyCiTi card for efficient public transport within Cape Town. Uber/Bolt: Use ride-sharing apps, especially if splitting fares with friends. Car Rental: For day trips outside the city, rent a car for 1-2 days and split the cost (fuel, rental fee) with 2-3 other travelers. This is often more cost-effective than multiple Ubers or tours. Student ID: Always carry your student ID; many attractions offer student discounts. Book Ahead: For popular attractions like Robben Island or Table Mountain Cableway, book online in advance for potentially better prices and to secure your spot. Day 1: Arrival &amp; City Centre History Morning: Arrive in Cape Town, check into your chosen hostel. Settle in and grab some groceries for the week. Afternoon: Bo-Kaap: Take a self-guided walking tour through the vibrant, colourful streets. Learn about the Cape Malay community’s history. (Free) District Six Museum: A powerful and essential visit to understand apartheid’s impact on Cape Town. (Approx. R60-R100 student entry) Evening: Dinner: Experience a true Cape Town classic: a Gatsby. Head to a local spot like Golden Dish (Athlone) or Super Fisheries (Maitland) via Uber/Bolt. It’s huge, so perfect for sharing! Activity: Stroll down Long Street to soak in the bustling atmosphere. Day 2: Iconic Views &amp; Waterfront Buzz Morning: Lion’s Head Hike: Wake up early for an unforgettable sunrise hike. It’s moderately challenging but offers incredible 360-degree views. (Free) Alternative (if not hiking): Take the Table Mountain Cableway up for panoramic views. Book online in advance. (Approx. R200-R400 return, student discount possible) Afternoon: V&amp;A Waterfront: Explore the harbour, enjoy the street performers, and browse the Watershed Market for local crafts. Lunch: Head to the V&amp;A Food Market for a wide array of affordable and delicious food stalls. Evening: Dinner: Cook a budget-friendly meal at your hostel kitchen, using your groceries. Day 3: Robben Island &amp; Deeper History Morning: Robben Island Tour: This is an absolute must-do. Take the ferry from the V&amp;A Waterfront to the island where Nelson Mandela was imprisoned. Tours are often led by former political prisoners. Book well in advance! (Approx. R400-R600, student discount possible) Afternoon: Iziko Slave Lodge: Continue your historical exploration by learning about the history of slavery in South Africa. (Approx. R30-R60 student entry) Company’s Garden: Relax and stroll through this beautiful, historic public park in the city centre. (Free) Evening: Dinner: Explore one of the many budget-friendly restaurants or cafes around the city centre, or self-cater again. Day 4: Cape Peninsula Road Trip (Share a Car!) Best Option for Budget &amp; Flexibility: Rent a car for the day and split the cost (rental + fuel) with 2-3 friends from your hostel. Route: Drive the stunning Chapman’s Peak Drive (scenic toll road). Visit Boulders Beach in Simon’s Town to see the adorable African Penguins up close. (Approx. R176 international adult entry, check for student rates) Continue to Cape Point &amp; Cape of Good Hope (entry fee for Table Mountain National Park applies here). Enjoy the dramatic cliffs and ocean views. Hike one of the shorter trails. (Approx. R376 international adult entry for TMNP, check for student rates) Evening: Return to Cape Town. Relax after a day of breathtaking scenery. Day 5: Stellenbosch Winelands &amp; Nature Morning: Transport to Stellenbosch: Take a bus (e.g., Intercape) or a shared Uber/Bolt from Cape Town (approx. 1 hour). Explore Stellenbosch Town: Wander through the charming oak-lined streets and admire the Cape Dutch architecture. Afternoon: Wine Tasting (Budget-Friendly): Focus on 1-2 wineries. Some offer very affordable tastings. Spier Wine Farm often has various options, or look for smaller boutique wineries. Consider renting a bicycle to cycle between vineyards if you’re feeling active. (Tastings R50-R150+) Alternative: If wine isn’t your focus, visit Jonkershoek Nature Reserve for a beautiful hike or walk amidst fynbos and forests. Evening: Return to Cape Town. Day 6: West Coast Wildflowers or Coastal Charm Option 1 (Spring Focus - Sept/Oct): West Coast National Park Transport: Rent a car for the day (split cost with friends) or look for a specific wildflower tour. Activity: Drive to West Coast National Park (approx. 1.5 hours). If you’re there in spring, the Postberg section (open seasonally) is a must for wildflowers. Otherwise, enjoy the turquoise lagoon and coastal walks. (Approx. R104-R236 international adult entry, check for student rates) Option 2 (All Year): Kogelberg Nature Reserve &amp; Coastal Drive Transport: Rent a car (split cost) and drive along the scenic R44 coastal road towards Kleinmond. Activity: Explore Kogelberg Nature Reserve, a UNESCO Biosphere Reserve known for its pristine fynbos and dramatic mountains. Enjoy a hike or a leisurely walk. (Day Permit Fee approx. R50-R70) Evening: Return to Cape Town. Enjoy a relaxed evening at your hostel. Day 7: Township Experience &amp; Departure Prep Morning: Langa or Gugulethu Township Tour: This is an essential experience for understanding contemporary South Africa and the legacy of apartheid. Book with a reputable, ethical local operator that actively supports the community (ask your hostel for recommendations). (Approx. R500-R1000, but invaluable for perspective) Afternoon: Souvenir Shopping: Head back to the V&amp;A Waterfront or the Watershed Market for last-minute gifts. Relax/Revisit: Enjoy a final stroll through Kirstenbosch National Botanical Garden (if you didn’t go earlier - entry fee applies) or revisit a favourite cafe. Evening: Farewell Dinner: Treat yourself to a slightly nicer but still budget-conscious dinner, perhaps at a spot you’ve enjoyed or wanted to try. Prepare for your next week of studies or onward travel!</p>
<p>Analysis: I actually enjoyed the Google Gemini GPT 2.5 better than the GPT 40. I think the Gemini is much more specific in terms of activities to do as well as more creative in activities. From outside research, I read Gemini is more advanced in in-depth contextual research whereas GPT 40 is better at integrated conversational skills. I also appreciate how Gemini understood this was a budget-friendly trip and thus outlined specific prices for different activities.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/coppleh-dev\.github\.io\/comm4190_F25_Using_LLMs_Blog\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>